// portfolioContext.js - Muhammad Usman's Chatbot Knowledge Base

const portfolioContext = {
  // ============================================
  // 1. CURRENT STATUS (Update Weekly/Monthly)
  // ============================================
  currentStatus: {
    mainActivity: "Agentic AI Developer | Software Engineering Student | Full Stack Developer",
    currentProjects: [
      "Building my portfolio website with an AI chatbot assistant",
      "Learning and exploring agentic AI systems"
    ],
    availability: "Open to freelance projects and full-time opportunities",
    location: "Lahore, Punjab, Pakistan",
    timezone: "PKT (UTC+5)",
    lastUpdated: "November 2025"
  },

  // ============================================
  // 2. PROFESSIONAL IDENTITY
  // ============================================
  professional: {
    title: "Agentic AI Developer & Full Stack Developer",
    tagline: "Building intelligent web applications with AI and modern tech stack",
    experience: "Newbie web developer, actively learning and building projects",
    specialty: "Specializing in AI-powered applications and full-stack web development",
    currentGoal: "Looking to join an innovative team building impactful AI and web products",
    workPreference: "Remote-first, open to hybrid opportunities in Lahore"
  },

  // ============================================
  // 3. TECHNICAL SKILLS
  // ============================================
  skills: {
    languages: ["JavaScript", "TypeScript", "Python", "HTML5", "CSS3"],

    frontend: {
      frameworks: ["React", "Next.js"],
      styling: ["Tailwind CSS"],
      tools: ["React Hooks", "React Router"]
    },

    backend: {
      runtime: ["Node.js", "Express.js"],
      databases: ["MongoDB", "Supabase"],
      apis: ["RESTful APIs"]
    },

    automation: {
      tools: ["n8n"],
      capabilities: ["Workflow automation", "Email automation", "API integrations", "Scheduled tasks"]
    },

    tools: {
      versionControl: ["Git", "GitHub"],
      deployment: ["Vercel"],
      editor: ["Cursor IDE (with 20+ extensions)"],
      other: ["Postman"]
    },

    aiAndML: {
      focus: "Agentic AI development",
      learning: ["AI agent systems", "LLM integration", "Prompt engineering"]
    },

    currentlyLearning: ["Advanced AI agent architectures", "System Design", "TypeScript best practices"]
  },

  // ============================================
  // 3.5 TECH STACK (Added)
  techStack: [
    "React",
    "Next.js",
    "Node.js",
    "Express.js",
    "MongoDB",
    "Supabase",
    "n8n automation",
    "OpenAI Agents SDK",
    "MCP Servers"
  ],

  // ============================================
  // 3.6 TOOLS & PLATFORMS (Added)
  toolsPlatforms: [
    "Cursor IDE",
    "GitHub",
    "Vercel",
    "Chrome DevTools"
  ],

  // ============================================
  // 3.7 AI AGENT SKILLS (Added)
  aiAgentSkills: [
    "Multi-step autonomous agents",
    "API-integrated agent workflows",
    "LLM function calling with OpenAI & Claude",
    "Retrieval-augmented workflows",
    "Event-driven agents using n8n",
    "Context-managed agents using MCP"
  ],

  // ============================================
  // 3.8 PERSONA BOUNDARIES (Added)
  personaBoundaries: {
    allowed: "The chatbot only answers questions strictly related to Muhammad Usman's skills, experience, projects, services, portfolio, and professional background.",
    notAllowed: "If a user asks math problems, coding bugs unrelated to portfolio, general knowledge questions, or typical LLM queries, the chatbot must respond kindly that it only handles questions about Muhammad Usman.",
    friendlyTone: "Responses should stay warm, helpful, and polite when redirecting the user."
  },

  // ============================================
  // 4. FEATURED PROJECTS
  projects: [
    {
      name: "NewsLetter AI",
      description: "Automated newsletter platform with daily email delivery system",
      tech: ["React", "Supabase", "n8n"],
      role: "Solo Developer",
      highlights: [
        "User subscription system with Supabase backend",
        "Automated daily email delivery via n8n workflow automation",
        "Clean and responsive newsletter interface"
      ],
      liveUrl: "https://news-letter-umber-five.vercel.app/",
      githubUrl: "https://github.com/MuhammadUsmanGM/NewsLetter",  // Updated link
      status: "Live"
    },
    {
      name: "Portfolio Website with AI Chatbot",
      description: "Personal portfolio featuring an intelligent AI chatbot assistant",
      tech: ["React", "Next.js", "Tailwind", "Claude API"],
      role: "Creator & Developer",
      highlights: [
        "Interactive AI chatbot for visitor engagement",
        "Modern, responsive design",
        "Showcases projects and skills dynamically"
      ],
      liveUrl: "https://portfolio-o4hs.vercel.app/",
      githubUrl: "https://github.com/MuhammadUsmanGM/Portfolio",  // Updated link
      status: "Live"
    },
    {
      name: "Advanced ChatUp Application",
      description: "Modern chat application with real-time messaging and advanced features",
      tech: ["React", "Node.js", "Socket.io", "MongoDB"],
      role: "Creator & Developer",
      highlights: [
        "Real-time messaging with WebSocket technology",
        "User authentication and profile management",
        "Modern UI/UX with responsive design",
        "Advanced chat features and security implementation"
      ],
      liveUrl: "https://chatup-production-ee1a.up.railway.app/",
      githubUrl: "https://github.com/MuhammadUsmanGM/ChatUp",
      status: "Live"
    }
  ],

  // ============================================
  // 5. SOFT SKILLS
  softSkills: [
    "Teamwork", 
    "Communication", 
    "Problem Solving", 
    "Public Speaking",
    "Adaptability",
    "Time Management",
    "Leadership"
  ],

  // ============================================
  // 6. METHODOLOGY
  methodology: {
    approach: "Agile and iterative development with focus on user experience",
    developmentProcess: [
      "Requirement analysis and planning",
      "Prototyping and wireframing",
      "Iterative development with continuous feedback",
      "Testing and quality assurance",
      "Deployment and maintenance"
    ],
    values: [
      "Creating user-centered solutions",
      "Writing clean and maintainable code",
      "Continuous learning and improvement",
      "Collaboration and communication"
    ]
  },

  // ============================================
  // 7. EDUCATION
  education: {
    current: [
      "Learning AI from Panaversity Lahore at University of Management and Technology Lahore",
      "Student of Software Engineering at Virtual University of Pakistan"
    ],
    focus: "Strengthening expertise in AI and learning about AI agents",
    workingHours: "Working hours from 9 AM to 5 PM (Asia/Karachi timezone)"
  },

  // ============================================
  // 8. HOBBIES
  hobbies: ["Developing something creative", "Playing video games"],

  // ============================================
  // 6. CONTACT & LINKS
  contact: {
    email: "mu.ai.dev@gmail.com",
    phone: "+92 325 6550687",
    whatsapp: "https://wa.me/923256550687?text=Hi%20Muhammad%20Usman,%20I%20found%20your%20portfolio%20and%20would%20like%20to%20connect!",
    github: "https://github.com/MuhammadUsmanGM",
    linkedin: "https://www.linkedin.com/in/muhammad-usman-ai-dev",
    portfolio: "https://portfolio-o4hs.vercel.app/",
    resume: "Available upon request",
    preferredContact: "Email or WhatsApp is the best way to reach me!",
    responseTime: "Usually respond within 24 hours"
  },

  // ============================================
  // 7. CERTIFICATIONS - Improved formatting
  certifications: [
    {
      name: "Introduction to Model Context Protocol (MCP)",
      issuer: "Anthropic",
      verification: "http://verify.skilljar.com/c/hdwfvh9ighf3"
    },
    {
      name: "MCP Advanced Topics",
      issuer: "Anthropic", 
      verification: "http://verify.skilljar.com/c/dokpqm5h6tvd"
    },
    {
      name: "AI For Everyone",
      issuer: "DeepLearning.AI",
      verification: "https://coursera.org/share/e0fb059b8812317a88213573b2ddb371"
    }
  ]
};

// Function to calculate age based on birth date (September 30, 2005)
function calculateAge() {
  const birthDate = new Date('2005-09-30');  // September 30, 2005
  const today = new Date();

  let age = today.getFullYear() - birthDate.getFullYear();
  const monthDiff = today.getMonth() - birthDate.getMonth();

  // If the current month is before the birth month, or if it's the same month but the day is before the birth day
  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
    age--;
  }

  return age;
}

export const generateSystemPrompt = () => {
  const { currentStatus, professional, skills, techStack, toolsPlatforms, aiAgentSkills, projects, softSkills, methodology, education, hobbies, contact, certifications, personaBoundaries } = portfolioContext;

  // Format certifications in a cleaner, more readable way
  const formattedCertifications = certifications.map(cert => 
    `- ${cert.name} | Issuer: ${cert.issuer} | Verification: ${cert.verification}`
  ).join('\n  ');

  // Format projects in a cleaner, more readable way
  const formattedProjects = projects.map(p => `- ${p.name}: ${p.description}
    - Tech: ${p.tech.join(", ")}
    - Highlights: ${p.highlights.join("; ")}
    - Live: ${p.liveUrl}
    - GitHub: ${p.githubUrl}`).join('\n  ');

  return `You are Chatty, Muhammad Usman's AI assistant. Your role is to provide helpful, conversational responses about Muhammad Usman when asked.

  Important Context (for your reference only - do not repeat this structured format in responses):
  Muhammad Usman is an Agentic AI Developer & Full Stack Developer specializing in AI-powered applications. 
  - Current Activity: ${currentStatus.mainActivity}
  - Professional Title: ${professional.title}
  - Experience Level: ${professional.experience}
  - Specialty: ${professional.specialty}
  - Tech Stack: ${techStack.join(", ")}
  - Current Projects: ${currentStatus.currentProjects.join(", ")}
  - Contact: ${contact.email}
  - Location: ${currentStatus.location}

  Skills Summary:
  - Programming Languages: ${skills.languages.join(", ")}
  - Frontend: ${skills.frontend.frameworks.join(", ")}, ${skills.frontend.styling.join(", ")}
  - Backend: ${skills.backend.runtime.join(", ")}, Databases: ${skills.backend.databases.join(", ")}
  - Automation: ${skills.automation.tools.join(", ")} with capabilities in ${skills.automation.capabilities.join(", ")}
  - Tools: ${skills.tools.versionControl.join(", ")} | ${skills.tools.deployment.join(", ")}
  - AI & ML Focus: ${skills.aiAndML.focus}
  - Currently Learning: ${skills.currentlyLearning.join(", ")}
  
  Additional Skills: ${softSkills.join(", ")}
  
  Approach: ${methodology.approach} with focus on ${methodology.values.join(", ")}. Development process includes ${methodology.developmentProcess.join(", ")}. 

  Education: ${education.current.join(", ")} with focus on ${education.focus}. Working hours are ${education.workingHours}.

  Tools & Platforms: ${toolsPlatforms.join(", ")}, AI Agent Skills: ${aiAgentSkills.join(", ")}
  
  Projects:
  ${formattedProjects}

  Personal: Born September 30, 2005 (Age: ${calculateAge()}), located in ${currentStatus.location}, speaks English (Professional) and Urdu, hobbies include ${hobbies.join(", ")}.
  
  Contact Info: Email ${contact.email}, Phone ${contact.phone}, WhatsApp ${contact.whatsapp}, GitHub ${contact.github}, LinkedIn ${contact.linkedin}, Portfolio ${contact.portfolio}. Preferred: ${contact.preferredContact}. Response time: ${contact.responseTime}.
  
  Certifications: ${formattedCertifications}
  
  Important Boundaries:
  - ${personaBoundaries.allowed}
  - ${personaBoundaries.notAllowed}
  - ${personaBoundaries.friendlyTone}

  Response Guidelines:
  - Respond in a natural, conversational tone as if you're Muhammad Usman's friendly assistant
  - When answering questions, provide relevant information without rigid formatting or repeating the same structure
  - Focus on answering the specific question asked rather than listing all possible information
  - Use bullet points and proper formatting only when necessary to clarify information
  - Be helpful and professional while keeping responses appropriately brief
  - If asked about Muhammad Usman's qualifications for projects, emphasize his experience with AI integration and full-stack development
  - Only include information relevant to the specific query
  - If you don't know something, say so politely
  - Do not repeat the detailed context information structure in your responses`;
};

export default portfolioContext;